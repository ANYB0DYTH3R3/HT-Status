<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HT-Status</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        canvas {
            max-width: 800px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>HT-Status - Website Uptime Monitoring</h1>
    
    <div id="graphs-container"></div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Replace these names and URLs with the websites you want to monitor
        const websitesToMonitor = [
            { name: 'Main Site', url: 'Not-games.netlify.app' },
            { name: 'Beta Site', url: 'https://huntervtharp1018.wixsite.com/unblocked-games/' },
            // Add more names and URLs as needed
        ];

        const graphContainer = document.getElementById('graphs-container');
        const graphs = [];

        websitesToMonitor.forEach((site, index) => {
            const graphCanvas = document.createElement('canvas');
            graphCanvas.id = `uptimeChart${index}`;
            graphCanvas.width = 800;
            graphCanvas.height = 400;
            graphContainer.appendChild(graphCanvas);

            const ctx = graphCanvas.getContext('2d');
            const graph = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: site.name,
                        borderColor: 'rgba(75, 192, 192, 1)',
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        data: [],
                        fill: false,
                    }],
                },
                options: {
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom',
                        },
                        y: {
                            type: 'linear',
                            position: 'left',
                            max: 100,
                            min: 0,
                        },
                    },
                },
            });

            graphs.push({
                chart: graph,
                site: site,
            });
        });

        function updateGraphs() {
            const timestamp = Date.now();

            graphs.forEach(async (graph, index) => {
                const { site, chart } = graph;

                try {
                    const response = await fetch(site.url);
                    const status = response.ok ? 100 : 0;
                    chart.data.labels.push(timestamp);
                    chart.data.datasets[0].data.push(status);
                } catch (error) {
                    console.error(`Error checking ${site.url}:`, error);
                    chart.data.labels.push(timestamp);
                    chart.data.datasets[0].data.push(0);
                }

                // Trim excess data to keep the graph clean
                if (chart.data.labels.length > 20) {
                    chart.data.labels.shift();
                    chart.data.datasets[0].data.shift();
                }

                // Update the chart with new data
                chart.update();
            });

            // Schedule the next update in 5 minutes (adjust as needed)
            setTimeout(updateGraphs, 300000);
        }

        // Initial update
        updateGraphs();
    </script>
</body>
</html>
